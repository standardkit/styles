@use '../utilities/modifiers' as *;

@mixin mix-colors-and-fill-types($colors, $fill-types) {
  @include create-color-fill-compound-selectors($colors, $fill-types);
  @each $color in map-keys($colors) {
    @each $fill in map-keys($fill-types) {
      .color--#{$color}.fill-type--#{$fill} {
        @extend %color-fill--#{$color}--#{$fill} !optional;
      }
    }
  }
}

// Create extendable classes for each color & fill combination
@mixin create-color-fill-compound-selectors($colors, $fill-types) {
  @each $color, $color-set in $colors {
    @each $fill, $fill-color-keys in $fill-types {
      %color-fill--#{$color}--#{$fill} {
        color: get-color($colors, $color, map-get($fill-color-keys, text));
        border-color: get-color($colors, $color, map-get($fill-color-keys, border));
        background-color: get-color($colors, $color, map-get($fill-color-keys, background));
      }
    }
  }
}
